###EVENTOS PARA TESTEAR

EVENTO 1

curl -X POST "http://localhost:5678/webhook-test/events" \
  -H "Content-Type: application/json" \
  -d '{
    "source": "payments",
    "type": "service_error",
    "severity": "critical",
    "message": "Timeout al conectar con la base de datos",
    "timestamp": "2025-11-18T10:32:11.123456",
    "metadata": {
      "retryCount": 3
    }
  }'

EVENTO 2

curl -X POST "http://localhost:5678/webhook-test/events" \
  -H "Content-Type: application/json" \
  -d '{
    "source": "payments",
    "type": "service_error",
    "severity": "critical",
    "message": "Timeout al conectar con la base de datos",
    "timestamp": "2025-11-18T15:30:00",
    "metadata": {
      "service": "payments",
      "retryCount": 3
    }
  }'

### EVENTOS PARA ALMACENAR
EVENTO 1: servicio payments — CRITICAL timeout

curl -X POST "http://localhost:8000/events" \
  -H "Content-Type: application/json" \
  -d '{
    "source": "payments",
    "timestamp": "2025-11-18T12:00:00",
    "type": "service_error",
    "severity": "critical",
    "message": "Timeout connecting to database",
    "metadata": {
      "service": "payments",
      "error_code": 5041
    }
  }'

  EVENTO 2: servicio auth — CRITICAL failure

  curl -X POST "http://localhost:8000/events" \
  -H "Content-Type: application/json" \
  -d '{
    "source": "auth",
    "timestamp": "2025-11-18T12:05:00",
    "type": "authentication_failure",
    "severity": "critical",
    "message": "OAuth provider unreachable",
    "metadata": {
      "provider": "google",
      "latency_ms": 9000
    }
  }'

EVENTO 3: servicio inventory — WARNING

curl -X POST "http://localhost:8000/events" \
  -H "Content-Type: application/json" \
  -d '{
    "source": "inventory",
    "timestamp": "2025-11-18T12:10:00",
    "type": "degraded_performance",
    "severity": "warning",
    "message": "Redis latency above threshold",
    "metadata": {
      "latency_ms": 320,
      "threshold_ms": 250
    }
  }'

EVENTO 4: servicio payments — WARNING

curl -X POST "http://localhost:8000/events" \
  -H "Content-Type: application/json" \
  -d '{
    "source": "payments",
    "timestamp": "2025-11-18T12:12:00",
    "type": "slow_request",
    "severity": "warning",
    "message": "Payment API response slower than expected",
    "metadata": {
      "avg_response_ms": 1200
    }
  }'

EVENTO 5: servicio users — INFO

curl -X POST "http://localhost:8000/events" \
  -H "Content-Type: application/json" \
  -d '{
    "source": "users",
    "timestamp": "2025-11-18T12:15:00",
    "type": "activity_log",
    "severity": "info",
    "message": "Daily summary generation completed",
    "metadata": {
      "records_processed": 4821
    }
  }'